<section class="produto-destaque">
    <div class="produto-card">
        <div class="produto-imagem">
            <img class="produto-img" src="/imagens/bateriadearmazenamento1.jpg" alt="Placa Solar">
        </div>

        <div class="produto-detalhes">
            <h2 class="nome-produto">Bateria de Armazenamento</h2>
            <p class="produto-descricao">
            <p> Bateria de Litio Weg para Sistema de Armazenamento de Energia Luna2000-5-e0 5kwh</p>
            <p> Tipo de Bateria: Íons de Lítio (LiFePO4)</p>
            <p>validade: 10 a 15 anos.</p>
            <p>  Profundidade de Descarga: Bateria com DoD de 80%.</p>
            <p> Tempo de Carga: 6 a 8 horas</p>
            <p> Dimensões e Peso: Bateria de 5 kWh com dimensões de 800 mm x 600 mm x 250 mm e peso de 70 kg.</p>
            </p>
            <p class="produto-preco"><strong>Preço:</strong> R$ 28.540,84</p>
            
            <div class="botoes">
                <button class="produto-btn" onclick="adicionarAoCarrinho('Bateria de Armazenamento', 28540.84)">Adicionar ao Carrinho</button>
            </div>
        </div>
    </div>
</section>

<!-- Seção de Comentários -->
<div class="comentarios">
    <h3>Comentários</h3>

    <div class="comentarios-lista" id="comentariosLista">
        <!-- Comentários serão inseridos aqui -->
    </div>

    <div class="comentario-adicionar">
        <textarea id="comentarioInput" placeholder="Deixe seu comentário..." rows="4"></textarea>
        <button onclick="adicionarComentario()">Adicionar Comentário</button>
    </div>
</div>

<!-- Seção do Carrinho -->
<div class="carrinho">
    <h3>Carrinho de Compras</h3>
    <div class="carrinho-lista" id="itensCarrinho">
        <!-- Itens do carrinho aparecerão aqui -->
    </div>
    <div class="carrinho-total">
        <strong>Total:</strong> R$ <span id="totalCarrinho">0,00</span>
    </div>
    <button id="finalizarCompra" disabled>Finalizar Compra</button>
</div>

<script>
    let carrinho = [];

    // Função para adicionar produtos ao carrinho
    function adicionarAoCarrinho(nome, preco) {
        const produto = { nome, preco };
        carrinho.push(produto);
        atualizarCarrinho();
    }

    // Função para atualizar o carrinho
    function atualizarCarrinho() {
        const listaItensCarrinho = document.getElementById("itensCarrinho");
        listaItensCarrinho.innerHTML = ""; // Limpa os itens do carrinho

        let total = 0;
        carrinho.forEach((produto, index) => {
            const itemDiv = document.createElement("div");
            itemDiv.classList.add("carrinho-item");

            const nomePreco = document.createElement("p");
            nomePreco.textContent = `${produto.nome} - R$ ${produto.preco.toFixed(2)}`;

            const botaoRemover = document.createElement("button");
            botaoRemover.textContent = "Remover";
            botaoRemover.classList.add("excluir-carrinho");
            botaoRemover.onclick = () => removerDoCarrinho(index);

            itemDiv.appendChild(nomePreco);
            itemDiv.appendChild(botaoRemover);
            listaItensCarrinho.appendChild(itemDiv);

            total += produto.preco;
        });

        document.getElementById("totalCarrinho").textContent = total.toFixed(2);

        const finalizarCompraButton = document.getElementById("finalizarCompra");
        finalizarCompraButton.disabled = carrinho.length === 0;
    }

    // Função para remover um item do carrinho
    function removerDoCarrinho(index) {
        carrinho.splice(index, 1);
        atualizarCarrinho();
    }

    // Função para adicionar comentário
    function adicionarComentario() {
        const comentarioInput = document.getElementById('comentarioInput');
        const comentarioTexto = comentarioInput.value.trim();

        if (comentarioTexto === "") {
            alert("Por favor, escreva um comentário antes de enviar.");
            return;
        }

        const comentarioDiv = document.createElement('div');
        comentarioDiv.classList.add('comentario');

        const textoComentario = document.createElement('p');
        textoComentario.textContent = comentarioTexto;

        const botaoExcluir = document.createElement('button');
        botaoExcluir.textContent = "Excluir";
        botaoExcluir.classList.add('excluir-comentario');
        botaoExcluir.onclick = () => comentarioDiv.remove();

        comentarioDiv.appendChild(textoComentario);
        comentarioDiv.appendChild(botaoExcluir);
        document.getElementById('comentariosLista').appendChild(comentarioDiv);

        comentarioInput.value = '';
    }
</script>

<style>
    /* Estilos para a seção de comentários */
    .comentarios,
    .carrinho {
        margin-top: 20px;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        background-color: #f9f9f9;
    }

    .comentarios h3,
    .carrinho h3 {
        font-size: 1.5em;
        margin-bottom: 10px;
    }

    .comentario-adicionar textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }

    .comentario-adicionar button,
    .carrinho button {
        background-color: #28a745;
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .comentario-adicionar button:hover,
    .carrinho button:hover {
        background-color: #218838;
    }

    .comentarios-lista .comentario,
    .carrinho-lista .carrinho-item {
        margin-bottom: 10px;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        background-color: #f9f9f9;
    }

    .comentarios-lista .comentario button.excluir-comentario,
    .carrinho-lista .carrinho-item button.excluir-carrinho {
        background-color: #dc3545;
        color: white;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
    }

    .comentarios-lista .comentario button.excluir-comentario:hover,
    .carrinho-lista .carrinho-item button.excluir-carrinho:hover {
        background-color: #c82333;
    }

    .carrinho-total {
        margin-top: 10px;
        font-size: 1.2em;
    }
</style>
